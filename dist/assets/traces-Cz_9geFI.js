import{g as r}from"./transition-D8a0-tYQ.js";const o=[{name:"Haven",img:"/traces/trace_img_01.jpg",tag:"Dome Settlement"},{name:"Longstrider",img:"/traces/trace_img_02.jpg",tag:"Field Transport"},{name:"Verdant Colonies",img:"/traces/trace_img_03.jpg",tag:"Eco Habitat"},{name:"Suncross",img:"/traces/trace_img_04.jpg",tag:"Surface Journey"},{name:"Red Bluffs",img:"/traces/trace_img_05.jpg",tag:"Highland District"},{name:"Moonshore",img:"/traces/trace_img_06.jpg",tag:"Polar Settlement"},{name:"Solspire",img:"/traces/trace_img_07.jpg",tag:"Solar Tower"},{name:"Frostline Basin",img:"/traces/trace_img_08.jpg",tag:"Glacial Plains"},{name:"Emberhold",img:"/traces/trace_img_09.jpg",tag:"Volcanic Outpost"},{name:"The Gate",img:"/traces/trace_img_010.jpg",tag:"Ancient Structure"}],R=.4,f=R*1e3;let v=0,a=[],m=!1,i=!1,c=3;document.addEventListener("DOMContentLoaded",()=>{k(),G()});function k(){const s=document.querySelector(".traces"),d=document.querySelector(".trace-name p"),u=document.querySelector(".traces-preview"),P=document.querySelector(".traces-preview-name h3"),y=document.querySelector(".traces-preview-img img"),b=document.querySelector(".traces-preview-tag p"),h=document.querySelector(".controller-inner"),C=document.querySelector(".controller-outer"),L=document.querySelectorAll(".controller-close-icon span"),p=document.querySelector(".traces-controller-nav-btn.prev"),S=document.querySelector(".traces-controller-nav-btn.next");if(!s||!d||!u||!P||!y||!b||!h||!C||!p||!S)return;function _(){return window.innerWidth<1e3?1:3}function w(e){const t=((v+e)%o.length+o.length)%o.length,n=o[t],l=document.createElement("li");l.innerHTML=`<div class="product-item-bg-wrapper"><div class="product-item-bg"></div></div><div class="outline-wrapper"><div class="product-bg-outline"></div></div><div class="product-img-wrapper"><img src="${n.img}" alt="${n.name}" /></div>`,l.dataset.relativeIndex=e,r.set(l,{x:e*f,scale:0,zIndex:e===0?100:1,force3D:!0}),s.appendChild(l),a.push({element:l,relativeIndex:e})}function T(e){const t=a.findIndex(n=>n.relativeIndex===e);t!==-1&&(a[t].element.remove(),a.splice(t,1))}function E(){const e=r.timeline();a.forEach(t=>{const n=t.relativeIndex===0;e.to(t.element,{x:t.relativeIndex*f,scale:n?1.1:.75,zIndex:n?100:1,duration:.75,ease:"power3.out",force3D:!0},0)})}function x(){const e=(v%o.length+o.length)%o.length;d.textContent=o[e].name}function g(){const e=(v%o.length+o.length)%o.length,t=o[e];P.textContent=t.name,y.src=t.img,y.alt=t.name,b.textContent=t.tag}function A(){m||i||(v++,T(-c),a.forEach(e=>{e.relativeIndex--,e.element.dataset.relativeIndex=e.relativeIndex}),w(c),E(),x(),g())}function j(){m||i||(v--,T(c),a.forEach(e=>{e.relativeIndex++,e.element.dataset.relativeIndex=e.relativeIndex}),w(-c),E(),x(),g())}function I(){m||i?(p.classList.add("disabled"),S.classList.add("disabled")):(p.classList.remove("disabled"),S.classList.remove("disabled"))}function z(){return a.find(e=>e.relativeIndex===0)}function D(e=!1){const t=z();a.forEach(n=>{const l=Math.abs(n.relativeIndex);(l===1||l===2)&&r.to(n.element,{x:e?n.relativeIndex*f*1.5:n.relativeIndex*f,opacity:e?0:1,duration:.75,ease:"power3.inOut",force3D:!0})}),t&&r.to(t.element,{scale:e?.75:1.1,opacity:e?0:1,duration:.75,ease:"power3.inOut",force3D:!0})}function B(e=!1){const t=[".controller-label p",".traces-controller-nav-btn"];r.to(t,{opacity:e?0:1,duration:.2,ease:"power3.out",delay:e?0:.4}),r.to(C,{clipPath:e?"circle(0% at 50% 50%)":"circle(50% at 50% 50%)",duration:.75,ease:"power3.inOut"}),r.to(h,{clipPath:e?"circle(50% at 50% 50%)":"circle(40% at 50% 50%)",duration:.75,ease:"power3.inOut"}),r.to(L,{width:e?"20px":"0px",duration:e?.4:.3,ease:e?"power3.out":"power3.in",stagger:e?.1:.05,delay:e?.2:0})}function O(){m||(m=!0,I(),i||g(),r.to(u,{y:i?"100%":"-50%",duration:.75,ease:"power3.inOut"}),D(!i),B(!i),setTimeout(()=>{m=!1,i=!i,I()},600))}function N(){a.forEach(e=>{e.element.remove()}),a=[]}function F(){N(),c=_();for(let e=-c;e<=c;e++)w(e);E(),x(),g(),I()}function H(){c=_();for(let e=-c;e<=c;e++)w(e);a.forEach(e=>{const t=e.relativeIndex===0;r.set(e.element,{x:e.relativeIndex*f,zIndex:t?100:1})}),a.forEach(e=>{const t=e.relativeIndex===0;r.to(e.element,{scale:t?1.1:.75,duration:1,ease:"power3.out",delay:.5})}),x(),g(),I()}function M(){clearTimeout(q),q=setTimeout(()=>{_()!==c&&F()},150)}let q;p.addEventListener("click",j),S.addEventListener("click",A),h.addEventListener("click",O),window.addEventListener("resize",M),H()}function G(){const s=document.querySelector(".traces-nav"),d=document.querySelector(".traces-footer"),u=document.querySelector(".traces-slider .controller");s&&(r.set(s,{y:-100}),r.to(s,{y:0,duration:1,ease:"power3.out",delay:.5})),d&&(r.set(d,{y:100}),r.to(d,{y:0,duration:1,ease:"power3.out",delay:.5})),u&&(r.set(u,{y:300}),r.to(u,{y:0,duration:1,ease:"power3.out",delay:.5}))}
