import{g as B,S as M}from"./transition-D8a0-tYQ.js";let U,q,tt=typeof Symbol=="function"?Symbol():"_split",K,ct=()=>K||H.register(window.gsap),et=typeof Intl<"u"&&"Segmenter"in Intl?new Intl.Segmenter:0,Z=t=>typeof t=="string"?Z(document.querySelectorAll(t)):"length"in t?Array.from(t).reduce((e,i)=>(typeof i=="string"?e.push(...Z(i)):e.push(i),e),[]):[t],it=t=>Z(t).filter(e=>e instanceof HTMLElement),Q=[],J=function(){},ht={add:t=>t()},pt=/\s+/g,rt=new RegExp("\\p{RI}\\p{RI}|\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?(\\u{200D}\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?)*|.","gu"),G={left:0,top:0,width:0,height:0},ut=(t,e)=>{for(;++e<t.length&&t[e]===G;);return t[e]||G},ot=({element:t,html:e,ariaL:i,ariaH:r})=>{t.innerHTML=e,i?t.setAttribute("aria-label",i):t.removeAttribute("aria-label"),r?t.setAttribute("aria-hidden",r):t.removeAttribute("aria-hidden")},nt=(t,e)=>{if(e){let i=new Set(t.join("").match(e)||Q),r=t.length,n,a,o,s;if(i.size)for(;--r>-1;){a=t[r];for(o of i)if(o.startsWith(a)&&o.length>a.length){for(n=0,s=a;o.startsWith(s+=t[r+ ++n])&&s.length<o.length;);if(n&&s.length===o.length){t[r]=o,t.splice(r+1,n);break}}}}return t},st=t=>window.getComputedStyle(t).display==="inline"&&(t.style.display="inline-block"),D=(t,e,i)=>e.insertBefore(typeof t=="string"?document.createTextNode(t):t,i),X=(t,e,i)=>{let r=e[t+"sClass"]||"",{tag:n="div",aria:a="auto",propIndex:o=!1}=e,s=t==="line"?"block":"inline-block",h=r.indexOf("++")>-1,T=y=>{let g=document.createElement(n),C=i.length+1;return r&&(g.className=r+(h?" "+r+C:"")),o&&g.style.setProperty("--"+t,C+""),a!=="none"&&g.setAttribute("aria-hidden","true"),n!=="span"&&(g.style.position="relative",g.style.display=s),g.textContent=y,i.push(g),g};return h&&(r=r.replace("++","")),T.collection=i,T},ft=(t,e,i,r)=>{let n=X("line",i,r),a=window.getComputedStyle(t).textAlign||"left";return(o,s)=>{let h=n("");for(h.style.textAlign=a,t.insertBefore(h,e[o]);o<s;o++)h.appendChild(e[o]);h.normalize()}},at=(t,e,i,r,n,a,o,s,h,T)=>{var y;let g=Array.from(t.childNodes),C=0,{wordDelimiter:N,reduceWhiteSpace:k=!0,prepareText:$}=e,V=t.getBoundingClientRect(),O=V,j=!k&&window.getComputedStyle(t).whiteSpace.substring(0,3)==="pre",x=0,w=i.collection,d,f,P,l,m,b,I,c,p,W,_,E,A,R,S,u,L,v;for(typeof N=="object"?(P=N.delimiter||N,f=N.replaceWith||""):f=N===""?"":N||" ",d=f!==" ";C<g.length;C++)if(l=g[C],l.nodeType===3){for(S=l.textContent||"",k?S=S.replace(pt," "):j&&(S=S.replace(/\n/g,f+`
`)),$&&(S=$(S,t)),l.textContent=S,m=f||P?S.split(P||f):S.match(s)||Q,L=m[m.length-1],c=d?L.slice(-1)===" ":!L,L||m.pop(),O=V,I=d?m[0].charAt(0)===" ":!m[0],I&&D(" ",t,l),m[0]||m.shift(),nt(m,h),a&&T||(l.textContent=""),p=1;p<=m.length;p++)if(u=m[p-1],!k&&j&&u.charAt(0)===`
`&&((y=l.previousSibling)==null||y.remove(),D(document.createElement("br"),t,l),u=u.slice(1)),!k&&u==="")D(f,t,l);else if(u===" ")t.insertBefore(document.createTextNode(" "),l);else{if(d&&u.charAt(0)===" "&&D(" ",t,l),x&&p===1&&!I&&w.indexOf(x.parentNode)>-1?(b=w[w.length-1],b.appendChild(document.createTextNode(r?"":u))):(b=i(r?"":u),D(b,t,l),x&&p===1&&!I&&b.insertBefore(x,b.firstChild)),r)for(_=et?nt([...et.segment(u)].map(F=>F.segment),h):u.match(s)||Q,v=0;v<_.length;v++)b.appendChild(_[v]===" "?document.createTextNode(" "):r(_[v]));if(a&&T){if(S=l.textContent=S.substring(u.length+1,S.length),W=b.getBoundingClientRect(),W.top>O.top&&W.left<=O.left){for(E=t.cloneNode(),A=t.childNodes[0];A&&A!==b;)R=A,A=A.nextSibling,E.appendChild(R);t.parentNode.insertBefore(E,t),n&&st(E)}O=W}(p<m.length||c)&&D(p>=m.length?" ":d&&u.slice(-1)===" "?" "+f:f,t,l)}t.removeChild(l),x=0}else l.nodeType===1&&(o&&o.indexOf(l)>-1?(w.indexOf(l.previousSibling)>-1&&w[w.length-1].appendChild(l),x=l):(at(l,e,i,r,n,a,o,s,h,!0),x=0),n&&st(l))};const lt=class dt{constructor(e,i){this.isSplit=!1,ct(),this.elements=it(e),this.chars=[],this.words=[],this.lines=[],this.masks=[],this.vars=i,this.elements.forEach(o=>{var s;i.overwrite!==!1&&((s=o[tt])==null||s._data.orig.filter(({element:h})=>h===o).forEach(ot)),o[tt]=this}),this._split=()=>this.isSplit&&this.split(this.vars);let r=[],n,a=()=>{let o=r.length,s;for(;o--;){s=r[o];let h=s.element.offsetWidth;if(h!==s.width){s.width=h,this._split();return}}};this._data={orig:r,obs:typeof ResizeObserver<"u"&&new ResizeObserver(()=>{clearTimeout(n),n=setTimeout(a,200)})},J(this),this.split(i)}split(e){return(this._ctx||ht).add(()=>{this.isSplit&&this.revert(),this.vars=e=e||this.vars||{};let{type:i="chars,words,lines",aria:r="auto",deepSlice:n=!0,smartWrap:a,onSplit:o,autoSplit:s=!1,specialChars:h,mask:T}=this.vars,y=i.indexOf("lines")>-1,g=i.indexOf("chars")>-1,C=i.indexOf("words")>-1,N=g&&!C&&!y,k=h&&("push"in h?new RegExp("(?:"+h.join("|")+")","gu"):h),$=k?new RegExp(k.source+"|"+rt.source,"gu"):rt,V=!!e.ignore&&it(e.ignore),{orig:O,animTime:j,obs:x}=this._data,w;(g||C||y)&&(this.elements.forEach((d,f)=>{O[f]={element:d,html:d.innerHTML,ariaL:d.getAttribute("aria-label"),ariaH:d.getAttribute("aria-hidden")},r==="auto"?d.setAttribute("aria-label",(d.textContent||"").trim()):r==="hidden"&&d.setAttribute("aria-hidden","true");let P=[],l=[],m=[],b=g?X("char",e,P):null,I=X("word",e,l),c,p,W,_;if(at(d,e,I,b,N,n&&(y||N),V,$,k,!1),y){let E=Z(d.childNodes),A=ft(d,E,e,m),R,S=[],u=0,L=E.map(z=>z.nodeType===1?z.getBoundingClientRect():G),v=G,F;for(c=0;c<E.length;c++)R=E[c],R.nodeType===1&&(R.nodeName==="BR"?((!c||E[c-1].nodeName!=="BR")&&(S.push(R),A(u,c+1)),u=c+1,v=ut(L,c)):(F=L[c],c&&F.top>v.top&&F.left<v.left+v.width-1&&(A(u,c),u=c),v=F));u<c&&A(u,c),S.forEach(z=>{var Y;return(Y=z.parentNode)==null?void 0:Y.removeChild(z)})}if(!C){for(c=0;c<l.length;c++)if(p=l[c],g||!p.nextSibling||p.nextSibling.nodeType!==3)if(a&&!y){for(W=document.createElement("span"),W.style.whiteSpace="nowrap";p.firstChild;)W.appendChild(p.firstChild);p.replaceWith(W)}else p.replaceWith(...p.childNodes);else _=p.nextSibling,_&&_.nodeType===3&&(_.textContent=(p.textContent||"")+(_.textContent||""),p.remove());l.length=0,d.normalize()}this.lines.push(...m),this.words.push(...l),this.chars.push(...P)}),T&&this[T]&&this.masks.push(...this[T].map(d=>{let f=d.cloneNode();return d.replaceWith(f),f.appendChild(d),d.className&&(f.className=d.className.trim()+"-mask"),f.style.overflow="clip",f}))),this.isSplit=!0,q&&y&&(s?q.addEventListener("loadingdone",this._split):q.status==="loading"&&console.warn("SplitText called before fonts loaded")),(w=o&&o(this))&&w.totalTime&&(this._data.anim=j?w.totalTime(j):w),y&&s&&this.elements.forEach((d,f)=>{O[f].width=d.offsetWidth,x&&x.observe(d)})}),this}kill(){let{obs:e}=this._data;e&&e.disconnect(),q?.removeEventListener("loadingdone",this._split)}revert(){var e,i;if(this.isSplit){let{orig:r,anim:n}=this._data;this.kill(),r.forEach(ot),this.chars.length=this.words.length=this.lines.length=r.length=this.masks.length=0,this.isSplit=!1,n&&(this._data.animTime=n.totalTime(),n.revert()),(i=(e=this.vars).onRevert)==null||i.call(e,this)}return this}static create(e,i){return new dt(e,i)}static register(e){U=U||e||window.gsap,U&&(Z=U.utils.toArray,J=U.core.context||J),!K&&window.innerWidth>0&&(q=document.fonts,K=!0)}};lt.version="3.14.2";let H=lt;B.registerPlugin(M,H);document.addEventListener("DOMContentLoaded",()=>{gt(),mt(),St()});function gt(){const t=document.querySelector(".hero-timer p");if(!t)return;function e(){const i={timeZone:"America/Toronto",hour12:!1,hour:"2-digit",minute:"2-digit"},r=new Date().toLocaleString("en-US",i),n=parseInt(r.split(":")[0]),a=Math.floor(n/4)+1,o=String(a).padStart(2,"0");t.textContent=`Zone ${o} __ ${r}`}e(),setInterval(e,6e4)}function mt(){const t=document.querySelector(".intro-copy h3");if(!t)return;const e=H.create(t,{type:"words, chars",charsClass:"char"});M.create({trigger:".intro-copy",start:"top 75%",end:"bottom 30%",onUpdate:i=>{const r=i.progress,n=e.chars.length,a=Math.floor(r*n);e.chars.forEach((o,s)=>{s<a?o.style.color="var(--base-100)":o.style.color="var(--base-300)"})}})}function St(){const t=document.querySelector(".featured-missions-header"),e=document.querySelector(".featured-missions");!t||!e||M.create({trigger:t,start:"top top",endTrigger:e,end:"bottom bottom",pin:!0,pinSpacing:!1})}B.registerPlugin(M,H);document.addEventListener("DOMContentLoaded",()=>{document.fonts.ready.then(()=>{yt()})});function yt(){const t=document.querySelector(".preloader-overlay"),e=sessionStorage.getItem("preloaderSeen")==="true",i=!!t&&!e,r=document.querySelector(".hero-content");document.querySelectorAll("[data-animate-variant]").forEach(a=>{const o=a.getAttribute("data-animate-variant");o==="slide"?wt(a,i,r):o==="flicker"&&bt(a,i,r)}),vt()}function wt(t,e,i){const r=t.getAttribute("data-animate-on-scroll")==="true";let n=parseFloat(t.getAttribute("data-animate-delay"))||0;const a=parseFloat(t.getAttribute("data-animate-stagger"))||.1;e&&i&&i.contains(t)&&(n=n+2),H.create(t,{type:"lines",mask:"lines",autoSplit:!0,linesClass:"line",onSplit(o){B.set(o.lines,{yPercent:100});const s=B.to(o.lines,{yPercent:0,duration:.75,ease:"power3.out",delay:n,stagger:a,paused:r});r&&M.create({trigger:t,start:"top 70%",animation:s,toggleActions:"play none none none"})}})}function bt(t,e,i){const r=t.getAttribute("data-animate-on-scroll")==="true";let n=parseFloat(t.getAttribute("data-animate-delay"))||0;e&&i&&i.contains(t)&&(n=n+2),H.create(t,{type:"chars",autoSplit:!0,onSplit(a){const o=a.chars;B.set(o,{opacity:0});const s=B.to(o,{delay:n,duration:.05,opacity:1,ease:"power2.inOut",stagger:{amount:.5,each:.1,from:"random"},paused:r});r&&M.create({trigger:t,start:"top 85%",animation:s,toggleActions:"play none none none"})}})}function vt(){const t=document.querySelector(".hero-timer");if(!t)return;const e=document.querySelector(".preloader-overlay"),i=sessionStorage.getItem("preloaderSeen")==="true",n=!!e&&!i?3:1;B.set(t,{opacity:0}),B.to(t,{delay:n,duration:.1,opacity:1,ease:"power2.inOut",repeat:4})}export{H as S};
